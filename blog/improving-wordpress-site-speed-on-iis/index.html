<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><link href=https://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=generator content="Hugo 0.120.0"><meta name=viewport content="width=device-width,initial-scale=1"><title>Improving Wordpress site speed on IIS &#183; Salman Quazi</title>
<meta name=description content><link type=text/css rel=stylesheet href=https://www.salmanq.com/css/print.css media=print><link type=text/css rel=stylesheet href=https://www.salmanq.com/css/poole.css><link type=text/css rel=stylesheet href=https://www.salmanq.com/css/syntax.css><link type=text/css rel=stylesheet href=https://www.salmanq.com/css/hyde.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700"><link rel=apple-touch-icon-precomposed sizes=144x144 href=/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/favicon.png><style type=text/css>.sidebar-about h1{font-size:1.95rem;font-weight:400}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-K4WVH5P91F"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-K4WVH5P91F")</script></head><body class=theme-base-08><aside class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://www.salmanq.com/><h1>Salman Quazi</h1></a><p class=lead>Engineering Manager for Microsoft Azure Cognitive Services in Mountain View, CA.</p></div><nav><ul class=sidebar-nav><li><a href=https://www.salmanq.com/>Home</a></li><li><a href=/blog/>Blog</a></li><li><a href=https://github.com/splusq/>Github</a></li><li><a href=https://www.linkedin.com/in/salmanquazi/>LinkedIn</a></li><li><a href=https://www.twitter.com/splusq>Twitter</a></li></ul></nav><p>Opinions are my own.</p></div></aside><main class="content container"><div class=post><h1>Improving Wordpress site speed on IIS</h1><time datetime=2013-03-24T19:03:14Z class=post-date>Sun, Mar 24, 2013</time><p>One of the first things I did when I started this blog was to change the way static files are cached by IIS to improve site speed. Static files are things that aren&rsquo;t going to change, things like CSS, JavaScript, images, documents, and so on. With IIS this is actually quite easy to achieve, you can start by making the following change to your web.config:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;system.webServer&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;staticContent&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;clientCache</span> <span style=color:#a6e22e>cacheControlMode=</span><span style=color:#e6db74>&#34;UseMaxAge&#34;</span> <span style=color:#a6e22e>cacheControlMaxAge=</span><span style=color:#e6db74>&#34;7.00:00:00&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;/staticContent&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/system.webServer&gt;</span> 
</span></span></code></pre></div><p>There&rsquo;s a set of file extensions that&rsquo;s already mapped to staticContent - so IIS only applies this change to all static contents. Also notice that we are caching the content on the client side. This means returning visitors will see a performance boost and we cache it for 7 days on the client side. If you have file extensions that are not part of the standard staticContent extension list, you can easily add it by doing:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;staticContent&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;mimeMap</span> <span style=color:#a6e22e>fileExtension=</span><span style=color:#e6db74>&#34;.woff&#34;</span> <span style=color:#a6e22e>mimeType=</span><span style=color:#e6db74>&#34;font/x-woff&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/staticContent&gt;</span> 
</span></span></code></pre></div><p>But what about improving performance for first time visitors? There&rsquo;s a key change you can do to see a significant difference:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;urlCompression</span> 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>doDynamicCompression=</span><span style=color:#e6db74>&#34;true&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>doStaticCompression=</span><span style=color:#e6db74>&#34;true&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dynamicCompressionBeforeCache=</span><span style=color:#e6db74>&#34;true&#34;</span><span style=color:#f92672>/&gt;</span> 
</span></span></code></pre></div><p>I strongly recommend reading the <a href=http://www.iis.net/configreference/system.webserver/urlcompression>IIS documentation for urlCompression</a>. Next time I&rsquo;ll talk about how I used <a href=http://wordpress.org/extend/plugins/wp-super-cache/>wp-supercache to dramatically improve performance</a> for both first time and returning visitors.</p></div><h2>Comments</h2><script src=https://utteranc.es/client.js repo=splusq/splusq.github.io issue-term=title theme=github-light crossorigin=anonymous async></script></main></body></html>