<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><link href=https://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=generator content="Hugo 0.120.0"><meta name=viewport content="width=device-width,initial-scale=1"><title>Using Control Adapters &#183; Salman Quazi</title>
<meta name=description content><link type=text/css rel=stylesheet href=https://www.salmanq.com/css/print.css media=print><link type=text/css rel=stylesheet href=https://www.salmanq.com/css/poole.css><link type=text/css rel=stylesheet href=https://www.salmanq.com/css/syntax.css><link type=text/css rel=stylesheet href=https://www.salmanq.com/css/hyde.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700"><link rel=apple-touch-icon-precomposed sizes=144x144 href=/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/favicon.png><style type=text/css>.sidebar-about h1{font-size:1.95rem;font-weight:400}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-K4WVH5P91F"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-K4WVH5P91F")</script></head><body class=theme-base-08><aside class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://www.salmanq.com/><h1>Salman Quazi</h1></a><p class=lead>Director of Engineering for Microsoft Azure OpenAI in Mountain View, CA.</p></div><nav><ul class=sidebar-nav><li><a href=https://www.salmanq.com/>Home</a></li><li><a href=/blog/>Blog</a></li><li><a href=https://github.com/splusq/>Github</a></li><li><a href=https://www.linkedin.com/in/salmanquazi/>LinkedIn</a></li><li><a href=https://www.twitter.com/splusq>Twitter</a></li></ul></nav><p>Opinions are my own.</p></div></aside><main class="content container"><div class=post><h1>Using Control Adapters</h1><time datetime=2007-05-15T04:55:43Z class=post-date>Tue, May 15, 2007</time><p>ASP.NET 2.0 introduced a new way of modifying how ASP.NET renders a control. For example, when you say:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>asp:textbox</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;FirstName&#34;</span> <span style=color:#a6e22e>runat</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;server&#34;</span> /&gt;
</span></span></code></pre></div><p>You have very limited control over how the control actually renders. You can specify a <em>cssclass</em> to modify the look and feel, but the actual HTML rendering is limited to what&rsquo;s available from the ASP.NET server attributes. For example you cannot add client-side onfocus or onblur statements. This is where Control Adapters comes in. Control adapters allows you to modify the rendering of any server control, with complete freedom.</p><p><strong>Let&rsquo;s look at an example!</strong></p><p>First in order to use a control adapter you need to add a class to your App_Code. This class will programmatically describe the various rendering behaviors you want to modify for a given server control. I usually put all my control adapters under one folder called: adapters. And each file under that folder is named after the server control I am trying to modify. In this case it&rsquo;s textbox.cs, because we are modifying the textbox control.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span> <span style=color:#66d9ef>namespace</span> UI.Adapters {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TextboxAdapter</span> : System.Web.UI.WebControls.Adapters.WebControlAdapter {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>void</span>  Render(HtmlTextWriter writer) {
</span></span><span style=display:flex><span>            writer.AddAttribute(<span style=color:#e6db74>&#34;onfocus&#34;</span>, <span style=color:#e6db74>&#34;textFocus(this)&#34;</span>);
</span></span><span style=display:flex><span>            writer.AddAttribute(<span style=color:#e6db74>&#34;onblur&#34;</span>, <span style=color:#e6db74>&#34;textBlur(this)&#34;</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>base</span>.Render(writer);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>} 
</span></span></code></pre></div><p>The code above, adds two arguments onfocus=textFocus(this); and obur=textBlur(this) too all server side text boxes automatically. You also need to add a browser file under your App_Browsers folder. If you don&rsquo;t have one right click your project add a Browser file. A browser is a XML file that describes how ASP.NET behaves depending on browser versions.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span> <span style=color:#f92672>&lt;browsers&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;browser</span> <span style=color:#a6e22e>refID=</span><span style=color:#e6db74>&#34;Default&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;controlAdapters&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;adapter</span> <span style=color:#a6e22e>controlType=</span><span style=color:#e6db74>&#34;System.Web.UI.WebControls.TextBox&#34;</span> <span style=color:#a6e22e>adapterType=</span><span style=color:#e6db74>&#34;UI.Adapters.TextboxAdapter&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/controlAdapters&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;/browser&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/browsers&gt;</span> 
</span></span></code></pre></div><p>A refID of Default includes all modern browsers like Firefox and Internet Explorer > 5.5. Then the code specifies the type of control you want to modify in this case <code>System.Web.UI.WebControls.TextBox</code> and the Control adapter you want to use, again in this case it&rsquo;s: <code>UI.Adapters.TextboxAdapter</code>.</p></div><h2>Comments</h2><script src=https://utteranc.es/client.js repo=splusq/splusq.github.io issue-term=title theme=github-light crossorigin=anonymous async></script></main></body></html>