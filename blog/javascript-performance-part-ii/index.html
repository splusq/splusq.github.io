<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>JavaScript Performance - Part II | Salman Quazi</title>
<meta name=keywords content="Uncategorized"><meta name=description content="As I discussed last week setInterval in general gives better performance compared to setTimeout.
Today I will discuss how in order to improve performance, one thread can be used to run multiple animations. Multiple animations come up in several scenarios. For instance, if you have a menu that does some animation onmouseover then although not clear at first this menu system could be running multiple animations at the same time. For example, let&rsquo;s say the animation takes 2 secs to run."><meta name=author content><link rel=canonical href=https://www.salmanq.com/blog/javascript-performance-part-ii/><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://www.salmanq.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.salmanq.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.salmanq.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.salmanq.com/apple-touch-icon.png><link rel=mask-icon href=https://www.salmanq.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-38742121-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="JavaScript Performance - Part II"><meta property="og:description" content="As I discussed last week setInterval in general gives better performance compared to setTimeout.
Today I will discuss how in order to improve performance, one thread can be used to run multiple animations. Multiple animations come up in several scenarios. For instance, if you have a menu that does some animation onmouseover then although not clear at first this menu system could be running multiple animations at the same time. For example, let&rsquo;s say the animation takes 2 secs to run."><meta property="og:type" content="article"><meta property="og:url" content="https://www.salmanq.com/blog/javascript-performance-part-ii/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2004-11-02T02:58:36+00:00"><meta property="article:modified_time" content="2004-11-02T02:58:36+00:00"><meta property="og:site_name" content="Salman Quazi"><meta name=twitter:card content="summary"><meta name=twitter:title content="JavaScript Performance - Part II"><meta name=twitter:description content="As I discussed last week setInterval in general gives better performance compared to setTimeout.
Today I will discuss how in order to improve performance, one thread can be used to run multiple animations. Multiple animations come up in several scenarios. For instance, if you have a menu that does some animation onmouseover then although not clear at first this menu system could be running multiple animations at the same time. For example, let&rsquo;s say the animation takes 2 secs to run."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://www.salmanq.com/blog/"},{"@type":"ListItem","position":2,"name":"JavaScript Performance - Part II","item":"https://www.salmanq.com/blog/javascript-performance-part-ii/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"JavaScript Performance - Part II","name":"JavaScript Performance - Part II","description":"As I discussed last week setInterval in general gives better performance compared to setTimeout.\nToday I will discuss how in order to improve performance, one thread can be used to run multiple animations. Multiple animations come up in several scenarios. For instance, if you have a menu that does some animation onmouseover then although not clear at first this menu system could be running multiple animations at the same time. For example, let\u0026rsquo;s say the animation takes 2 secs to run.","keywords":["Uncategorized"],"articleBody":"As I discussed last week setInterval in general gives better performance compared to setTimeout.\nToday I will discuss how in order to improve performance, one thread can be used to run multiple animations. Multiple animations come up in several scenarios. For instance, if you have a menu that does some animation onmouseover then although not clear at first this menu system could be running multiple animations at the same time. For example, let’s say the animation takes 2 secs to run. Then in this 2 second time frame if the user highlights another menu item then the browser is actually running to threads one for each menu item. This is can bring down the performance of the system quite heavily.\nEvery animation can be broken down into discrete states – where each state changes with time. For instance, a animation of a bicycle moving in a two-dimensional space can be broken down into it’s x coordinates everytime the thread is run the x-coordinate of the bicycle is updated and the bicycle is moved. The same can be done with menu items.\nNotice that onmouseover and onmouseout the background of the menu transitions in and transitions out respectively. Had I used one thread for each of those menu items and if the user quickly went over several menu items quickly then the performance would greatly sacrificed.\nIn the case of the menu above there is only one state to maintain: the background color information for each of the menu item. On mouseover the setTimeout is started (only once no matter how many mouseover occurs) and a primary function (sometimes also known as a runner) runs through all the menu items and decrements or increments the color of the background (decrements if mouseout, increments if mouseover). That’s it!\nHere’s a sample code illustrating that idea:\nvar MenuObjects = new Array(); var TimerObject = null; function MenuEffectRun() { var remaining=0; for(i=0;i\u003cmenuObjects.length;++i) { if(typeof(MenuObjects[i])!=\"undefined\" \u0026\u0026 MenuObjects[i][0]) remaining+=MenuGlow(i); } if(remaining \u0026\u0026 !TimerObject) { //change for non-IE browsers //TimerObject = setTimeout(\"MenuEffectRun()\",10); TimerObject = window.setInterval(\"MenuEffectRun()\",10); } else if(!remaining) { //change for non-IE browsers //clearTimeout(TimerObject); window.clearInterval(TimerObject); TimerObject = null; } } function MenuHighlight(Table) { var id = parseInt(Table.id.substring(1)); Table.className='menuhover'; if(typeof(MenuObjects[id])==\"undefined\") { MenuObjects[id] = new Array(Table,0,30,0); } else { MenuObjects[id][1] = 0; MenuObjects[id][2] = 30; MenuObjects[id][3] = 0; } if(!TimerObject) MenuEffectRun();\t} function MenuNormal(Table) { var id = parseInt(Table.id.substring(1)); //Table.className='menu'; MenuObjects[id][1] = 0; MenuObjects[id][2] = 30; MenuObjects[id][3] = 1; if(!TimerObject) MenuEffectRun(); } function MenuGlow(index) { var start = MenuObjects[index][1]; var step = MenuObjects[index][2]; var state = MenuObjects[index][3]; var fstate = (state^1); // alternate transformation if(start\u003c=step) { MenuObjects[index][0].style.background = \"rgb(\" + Math.floor(BackgroundTransform[state][0] * ((step-start)/step) + BackgroundTransform[fstate][0] * (start/step)) + \",\" + Math.floor(BackgroundTransform[state][1] * ((step-start)/step) + BackgroundTransform[fstate][1] * (start/step)) + \",\" + Math.floor(BackgroundTransform[state][2] * ((step-start)/step) + BackgroundTransform[fstate][2] * (start/step)) + \")\"; MenuObjects[index][0].style.color = \"rgb(\" + Math.floor(FontTransform[state][0] * ((step-start)/step) + FontTransform[fstate][0] * (start/step)) + \",\" + Math.floor(FontTransform[state][1] * ((step-start)/step) + FontTransform[fstate][1] * (start/step)) + \",\" + Math.floor(FontTransform[state][2] * ((step-start)/step) + FontTransform[fstate][2] * (start/step)) + \")\"; MenuObjects[index][1]++; return 1; } return 0; } ","wordCount":"500","inLanguage":"en","datePublished":"2004-11-02T02:58:36Z","dateModified":"2004-11-02T02:58:36Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.salmanq.com/blog/javascript-performance-part-ii/"},"publisher":{"@type":"Organization","name":"Salman Quazi","logo":{"@type":"ImageObject","url":"https://www.salmanq.com/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.salmanq.com/ accesskey=h title="Salman Quazi (Alt + H)">Salman Quazi</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.salmanq.com/blog/ title=Blog><span>Blog</span></a></li><li><a href=https://github.com/splusq/ title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://www.linkedin.com/in/salmanquazi/ title=LinkedIn><span>LinkedIn</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://www.twitter.com/splusq title=Twitter><span>Twitter</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>JavaScript Performance - Part II</h1><div class=post-meta>&lt;span title='2004-11-02 02:58:36 +0000 UTC'>November 2, 2004&lt;/span>&amp;nbsp;·&amp;nbsp;3 min</div></header><div class=post-content><p><em>As I <a href=/blog/javascript-performance-part-i>discussed last week</a> setInterval in general gives better performance compared to setTimeout.</em></p><p>Today I will discuss how in order to improve performance, one thread can be used to run multiple animations. Multiple animations come up in several scenarios. For instance, if you have a menu that does some animation onmouseover then although not clear at first this menu system could be running multiple animations at the same time. For example, let&rsquo;s say the animation takes 2 secs to run. Then in this 2 second time frame if the user highlights another menu item then the browser is actually running to threads one for each menu item. This is can bring down the performance of the system quite heavily.</p><p>Every animation can be broken down into discrete states &ndash; where each state changes with time. For instance, a animation of a bicycle moving in a two-dimensional space can be broken down into it&rsquo;s x coordinates everytime the thread is run the x-coordinate of the bicycle is updated and the bicycle is moved. The same can be done with menu items.</p><p>Notice that onmouseover and onmouseout the background of the menu transitions in and transitions out respectively. Had I used one thread for each of those menu items and if the user quickly went over several menu items quickly then the performance would greatly sacrificed.</p><p>In the case of the menu above there is only one state to maintain: the background color information for each of the menu item. On mouseover the setTimeout is started (only <strong>once</strong> no matter how many mouseover occurs) and a primary function (sometimes also known as a runner) runs through all the menu items and decrements or increments the color of the background (decrements if mouseout, increments if mouseover). That&rsquo;s it!</p><p>Here&rsquo;s a sample code illustrating that idea:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>MenuObjects</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Array();
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>TimerObject</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>MenuEffectRun</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>remaining</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;<span style=color:#a6e22e>i</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>menuObjects</span>.<span style=color:#a6e22e>length</span>;<span style=color:#f92672>++</span><span style=color:#a6e22e>i</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>typeof</span>(<span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>i</span>])<span style=color:#f92672>!=</span><span style=color:#e6db74>&#34;undefined&#34;</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>i</span>][<span style=color:#ae81ff>0</span>]) <span style=color:#a6e22e>remaining</span><span style=color:#f92672>+=</span><span style=color:#a6e22e>MenuGlow</span>(<span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>remaining</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>TimerObject</span>) {
</span></span><span style=display:flex><span>		<span style=color:#75715e>//change for non-IE browsers
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#75715e>//TimerObject = setTimeout(&#34;MenuEffectRun()&#34;,10);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#a6e22e>TimerObject</span> <span style=color:#f92672>=</span> window.<span style=color:#a6e22e>setInterval</span>(<span style=color:#e6db74>&#34;MenuEffectRun()&#34;</span>,<span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span><span style=color:#a6e22e>remaining</span>) {
</span></span><span style=display:flex><span>		<span style=color:#75715e>//change for non-IE browsers
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#75715e>//clearTimeout(TimerObject);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		window.<span style=color:#a6e22e>clearInterval</span>(<span style=color:#a6e22e>TimerObject</span>);
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>TimerObject</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>MenuHighlight</span>(<span style=color:#a6e22e>Table</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>id</span> <span style=color:#f92672>=</span> parseInt(<span style=color:#a6e22e>Table</span>.<span style=color:#a6e22e>id</span>.<span style=color:#a6e22e>substring</span>(<span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Table</span>.<span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;menuhover&#39;</span>;
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>typeof</span>(<span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>id</span>])<span style=color:#f92672>==</span><span style=color:#e6db74>&#34;undefined&#34;</span>) {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>id</span>] <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Array(<span style=color:#a6e22e>Table</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>30</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>id</span>][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>id</span>][<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>;
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>id</span>][<span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span><span style=color:#a6e22e>TimerObject</span>) <span style=color:#a6e22e>MenuEffectRun</span>();		
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>MenuNormal</span>(<span style=color:#a6e22e>Table</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>id</span> <span style=color:#f92672>=</span> parseInt(<span style=color:#a6e22e>Table</span>.<span style=color:#a6e22e>id</span>.<span style=color:#a6e22e>substring</span>(<span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>	<span style=color:#75715e>//Table.className=&#39;menu&#39;;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>id</span>][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>id</span>][<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>30</span>;
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>id</span>][<span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span><span style=color:#a6e22e>TimerObject</span>) <span style=color:#a6e22e>MenuEffectRun</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>MenuGlow</span>(<span style=color:#a6e22e>index</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>start</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>index</span>][<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>step</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>index</span>][<span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>state</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>index</span>][<span style=color:#ae81ff>3</span>];
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>fstate</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>state</span><span style=color:#f92672>^</span><span style=color:#ae81ff>1</span>); <span style=color:#75715e>// alternate transformation
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>start</span><span style=color:#f92672>&lt;=</span><span style=color:#a6e22e>step</span>) {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>index</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>style</span>.<span style=color:#a6e22e>background</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;rgb(&#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>			Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>BackgroundTransform</span>[<span style=color:#a6e22e>state</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> ((<span style=color:#a6e22e>step</span><span style=color:#f92672>-</span><span style=color:#a6e22e>start</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>step</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>BackgroundTransform</span>[<span style=color:#a6e22e>fstate</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> (<span style=color:#a6e22e>start</span><span style=color:#f92672>/</span><span style=color:#a6e22e>step</span>)) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;,&#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>			Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>BackgroundTransform</span>[<span style=color:#a6e22e>state</span>][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> ((<span style=color:#a6e22e>step</span><span style=color:#f92672>-</span><span style=color:#a6e22e>start</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>step</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>BackgroundTransform</span>[<span style=color:#a6e22e>fstate</span>][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> (<span style=color:#a6e22e>start</span><span style=color:#f92672>/</span><span style=color:#a6e22e>step</span>)) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;,&#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>			Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>BackgroundTransform</span>[<span style=color:#a6e22e>state</span>][<span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> ((<span style=color:#a6e22e>step</span><span style=color:#f92672>-</span><span style=color:#a6e22e>start</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>step</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>BackgroundTransform</span>[<span style=color:#a6e22e>fstate</span>][<span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> (<span style=color:#a6e22e>start</span><span style=color:#f92672>/</span><span style=color:#a6e22e>step</span>)) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;)&#34;</span>;
</span></span><span style=display:flex><span>			
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>index</span>][<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>style</span>.<span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;rgb(&#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>			Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>FontTransform</span>[<span style=color:#a6e22e>state</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> ((<span style=color:#a6e22e>step</span><span style=color:#f92672>-</span><span style=color:#a6e22e>start</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>step</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>FontTransform</span>[<span style=color:#a6e22e>fstate</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> (<span style=color:#a6e22e>start</span><span style=color:#f92672>/</span><span style=color:#a6e22e>step</span>)) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;,&#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>			Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>FontTransform</span>[<span style=color:#a6e22e>state</span>][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> ((<span style=color:#a6e22e>step</span><span style=color:#f92672>-</span><span style=color:#a6e22e>start</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>step</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>FontTransform</span>[<span style=color:#a6e22e>fstate</span>][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> (<span style=color:#a6e22e>start</span><span style=color:#f92672>/</span><span style=color:#a6e22e>step</span>)) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;,&#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>			Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>FontTransform</span>[<span style=color:#a6e22e>state</span>][<span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> ((<span style=color:#a6e22e>step</span><span style=color:#f92672>-</span><span style=color:#a6e22e>start</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>step</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>FontTransform</span>[<span style=color:#a6e22e>fstate</span>][<span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> (<span style=color:#a6e22e>start</span><span style=color:#f92672>/</span><span style=color:#a6e22e>step</span>)) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;)&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    	<span style=color:#a6e22e>MenuObjects</span>[<span style=color:#a6e22e>index</span>][<span style=color:#ae81ff>1</span>]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>} 
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.salmanq.com/tags/uncategorized/>Uncategorized</a></li></ul><nav class=paginav><a class=prev href=https://www.salmanq.com/blog/object-databases-ordbms/><span class=title>« Prev</span><br><span>Object Databases (ORDBMS)</span>
</a><a class=next href=https://www.salmanq.com/blog/javascript-performance-part-i/><span class=title>Next »</span><br><span>JavaScript Performance - Part I</span></a></nav></footer><script src=https://utteranc.es/client.js repo=splusq/splusq.github.io issue-term=title theme=github-dark crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2023 <a href=https://www.salmanq.com/>Salman Quazi</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>